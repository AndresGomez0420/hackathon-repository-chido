create table t_client (
	id bigserial primary key,
	name varchar(30) not null,
	last_name varchar(20) not null,
	email_address varchar(100) unique not null,
	password_account varchar(60) not null,
	num_tel varchar(20) not null,
	num_tel_2 varchar(20),
	start_date date default current_date,
	person_type boolean,
	wallet_address text,
	developer_keys text,
);




create table t_store(
	id bigserial primary key,
	name varchar(30) not null,
	lastname varchar(20) not null, 
	name_store varchar(20) not null,
	street_addres varchar (255) not null,
	email_adrees varchar(100) not null,
	password_store varchar(60) not null,
	num_tel varchar(20) not null,
	num_tel_2 varchar(20),
	store_type bigint,
	opening_hours time,
	closing_time time,
	wallet_address text,
	developer_keys text,
	start_date date default current_date
);


create table store_item(
	id bigserial primary key,
	id_product bigint,
	id_store bigint,
	amount numeric (11, 6) default 0.0, 
	existss boolean,
	start_date date default current_date,
	image_text text,
	image bytea 
);


create table transaction(
	id bigserial primary key,
	id_client bigint not null,
	id_product bigint not null,
	name_product varchar(50) not null,
	id_store bigint not null,
	amount_paid_to numeric (11, 6) default 0.0,
	amount_paid numeric (11, 6) default 0.0,
	purchase_date date default current_date
	
);


create table currency (
	id bigserial primary key,
	name varchar(5) not null
);

create table store_cat(
	id bigserial primary key,
	name varchar(100) not null,
	store_description varchar(100) not null,
	id_catalogo bigint not null,
	start_date date default current_date
);


create table product(
	id bigserial primary key,
	name_product varchar(100)not null,
	description varchar(100)not null,
	start_date date default current_date
);

create table credit_paid(
	id bigserial primary key,
	id_loan bigint not null,
	id_client bigint not null,
	id_tienda bigint not null,
	amount_paid numeric (11, 6) default 0.0,
	amount_to_pay numeric (11, 6) default 0.0,
	id_currency bigint not null,
	is_punished boolean
);

create table repayment_schedule(
	id bigserial primary key,
	loan_id bigint not null,
	installment bigint not null,
	init_date date not null,
	end_date date not null,
	amount_principal numeric (11, 6) default 0.0,
	penalty numeric (11, 6) default 0.0,
	total_paid numeric (11, 6) default 0.0,
	paid_date date,
	complete_paid boolean,
	amount_principal_paid numeric (11, 6) default 0.0	
);

create table loan(
	id bigserial primary key,
	id_client bigint not null,
	start_date date default current_date,
	total_amoun numeric (11, 6) default 0.0,
	amount_credit numeric (11, 6) default 0.0,
	amount_paid numeric (11, 6) default 0.0,
	loan_close boolean,
	is_punished boolean
);

